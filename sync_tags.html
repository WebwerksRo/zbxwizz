<html>
<head>
    <style>
        #container>div{
            width: 100px;
            border: dashed black 1px;
            margin: 5px; padding: 5px;
        }
		
		div>strong {
			display: inline-block;
			padding: 3px;
			background: #eee;
			border-radius: 3px;
			border: solid black 1px;
			margin: 3px;
		}
		
		.found{
			color: green;
		}
		.notfound{
			color: red;
		}
		.isproto{
			font-style: italic;
			background: white;
		}
		
    </style>
</head>
<body>
<form>
    <fieldset>
        <legend>API key</legend>
        <input type="text" id="apiKeyInput" value="">
        <button id="btn" type="button" onclick="run()>Run</button>
    </fieldset>
</form>
<div id='container' style="display: flex; flex-wrap: wrap">
    <div>
        <h5>DemoName</h5>
        <span>ID</span>
    </div>
</div>
<div id="logs">
</div>
<script src="lib/jquery.js"></script>
<script src="lib/zbx.js"></script>
<script>
let zbx;
let zbxUrl = "http://10.112.61.140/zabbix/api_jsonrpc.php";

$.get("./zbx_api_key.txt").then(apiKey=>{
	$('#apiKeyInput').val(apiKey);
	zbx = new ZBXApi("http://10.112.61.140/zabbix/api_jsonrpc.php",apiKey);
});

function run() {
	xbx.get("host",{
			output: "extend",
			selectTags: "extend",
			tags: [
				{
					tag: "TEST_TAG"
				}
			]
		})
		.done((resp)=>{
			console.log(resp);
		})
}
</script>
</body>
</html>

